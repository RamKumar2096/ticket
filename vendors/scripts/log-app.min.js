function showLoader(){$(".loadingPage").removeClass("d-none"),$("body,html").css("overflow","hidden")}function hideLoader(){$(".loadingPage").addClass("d-none"),$("body,html").css("overflow-y","auto")}function logInFormValid(){let userLog=$("#log_user_key"),passLog=$("#log_pass_key");if(""==$(userLog).val())return alertify.alert("alert").set({transition:"zoom",title:"Message",message:"Please enter your email id/employee code.",closable:!1}).show(),!1;if(""==$(passLog).val())return alertify.alert("alert").set({transition:"zoom",title:"Message",message:"Please enter your password."}).show(),!1;{const logDetails={user:userLog[0].value,pass:passLog[0].value};return window.localStorage.setItem("userLogDetails",JSON.stringify(logDetails)),showLoader(),logDetails}}function userLogin(logdata){const checFireUser=loginchek(logdata);checFireUser.then(logFF=>{if(console.log(logFF),0==logFF.status)return hideLoader(),alertify.alert("Message!",logFF.message);const key=logFF.data.mail_id+","+logFF.data.emp_code;createCookie(key,1),logUserDatas=logFF.data,window.open("./component/app.html","_top")})}function createCookie(name,days){var date=new Date;date.setTime(date.getTime()+24*days*60*60*1e3);var expires="expires="+date.toGMTString();document.cookie="key="+name+";"+expires+"; path=/"}function makeForgotMail(params){return fetch("https://script.google.com/macros/s/AKfycbx5sJ4xzRxk7c0kmo_mFJosMtiKO0xHvREFTgXOhNEiPZJ6kPn_HC-78NJyV3WGwJ37BQ/exec",{method:"post",body:JSON.stringify(params)}).then(responsedata=>{hideLoader(),responsedata.json(result=>{console.log(result)})})}!async function(){let permission=await Notification.requestPermission()}(),$(".logSign").click(()=>{var logCheck=logInFormValid();logCheck&&userLogin(logCheck)}),$("#log_pass_key").keydown(e=>{if(e.stopImmediatePropagation(),13==e.keyCode){var logCheck=logInFormValid();if(!logCheck)return;userLogin(logCheck)}}),$(".logForSub").click(()=>{const userLog=$("#forget_value"),emCode=$("#forget_em_code");if(""!=$(userLog).val())if(""!=$(emCode).val()){const logDetails={email:userLog[0].value,code:emCode[0].value};showLoader(),forgotPassword(logDetails).then(res=>{if(0==res.status)return hideLoader(),alertify.alert("Message!",res.message);const userD=res.data,de={name:userD.emp_name,func:"forgotpass",mail:userD.mail_id,password:userD.password};makeForgotMail(de),alertify.alert("Message!",res.message),hideLoader()})}else alertify.alert("alert").set({transition:"zoom",title:"Message",message:"Please enter your employee code."}).show();else alertify.alert("alert").set({transition:"zoom",title:"Message",message:"Please enter your mail id."}).show()});